"use strict";var u=require("fs"),l=require("module"),r=require("@esbuild-kit/core-utils"),d=require("get-tsconfig");function c(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var p=c(u),n=c(l),m=c(d);const _=/\.[cm]?tsx?$/,a=m.default(),v=a==null?void 0:a.config,j=r.installSourceMapSupport();function f(e,t){process.send&&process.send({type:"dependency",path:t});const s=p.default.readFileSync(t,"utf8"),o=r.transformSync(s,t,{format:"cjs",tsconfigRaw:v});o.map&&j.set(t,o.map),e._compile(o.code,t)}const i=n.default._extensions;[".js",".ts",".tsx",".jsx"].forEach(e=>{i[e]=f}),[".cjs",".mjs",".cts",".mts"].forEach(e=>{Object.defineProperty(i,e,{value:f,enumerable:!1})});const y=n.default._resolveFilename;n.default._resolveFilename=function(...e){const[t,s]=e;return t.startsWith("node:")&&(e[0]=t.slice(5)),/\.[cm]js$/.test(t)&&s&&_.test(s.filename)&&(e[0]=`${t.slice(0,-2)}ts`),y.apply(this,e)};
